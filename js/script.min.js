window.onload=function(){createBeforeAfterSlider(),randomImgGallery(),setPopup(),videoPlayer(),setMenu()};let items=document.querySelectorAll(".carousel__item"),currentItem=0,isEnabled=!0,numItem=document.querySelector(".controls__num.first");function changeCurrentItem(e){currentItem=(e+items.length)%items.length,numItem.textContent=`0${currentItem+1}`}function hideItem(e){isEnabled=!1,items[currentItem].classList.add(e),items[currentItem].addEventListener("animationend",(function(){this.classList.remove("active",e)}))}function showItem(e){items[currentItem].classList.add("next",e),items[currentItem].addEventListener("animationend",(function(){this.classList.remove("next",e),this.classList.add("active"),isEnabled=!0}))}function previousItem(e){hideItem("to-right"),changeCurrentItem(e-1),showItem("from-left")}function nextItem(e){hideItem("to-left"),changeCurrentItem(e+1),showItem("from-right")}document.querySelector(".controls__arrow.left").addEventListener("click",(function(){isEnabled&&(previousItem(currentItem),changeColorDot(currentItem))})),document.querySelector(".controls__arrow.right").addEventListener("click",(function(){isEnabled&&(nextItem(currentItem),changeColorDot(currentItem))}));let dotAll=document.querySelectorAll(".controls__dot");dotAll.forEach(((e,t)=>{e.addEventListener("click",(function(){items.forEach((e=>{e.classList.remove("active")})),items[t].classList.add("active"),changeCurrentItem(t),changeColorDot(t)}))}));const changeColorDot=e=>{dotAll.forEach((e=>{e.classList.remove("active")})),dotAll[e].classList.add("active")},swipedetect=e=>{let t=e,n=0,r=0,c=0,o=0,i=0,a=0;t.addEventListener("mousedown",(function(e){n=e.pageX,r=e.pageY,i=(new Date).getTime(),e.preventDefault()})),t.addEventListener("mouseup",(function(e){c=e.pageX-n,o=e.pageY-r,a=(new Date).getTime()-i,a<=300&&Math.abs(c)>=150&&Math.abs(o)<=100&&(c>0?isEnabled&&previousItem(currentItem):isEnabled&&nextItem(currentItem)),e.preventDefault()})),t.addEventListener("touchstart",(function(e){let t=e.changedTouches[0];n=t.pageX,r=t.pageY,i=(new Date).getTime(),e.preventDefault()})),t.addEventListener("touchmove",(function(e){e.preventDefault()})),t.addEventListener("touchend",(function(e){let t=e.changedTouches[0];c=t.pageX-n,o=t.pageY-r,a=(new Date).getTime()-i,a<=300&&Math.abs(c)>=150&&Math.abs(o)<=100&&(c>0?isEnabled&&previousItem(currentItem):isEnabled&&nextItem(currentItem)),e.preventDefault()}))};let el=document.querySelector(".carousel__container");swipedetect(el);const createBeforeAfterSlider=()=>{const e=document.querySelector(".compare-img"),t=document.querySelector(".compare-img__wrapper"),n=document.querySelector(".compare-img__image.before"),r=n.querySelector("img"),c=document.querySelector(".compare-img__slice");let o=!1,i=t.offsetWidth;r.style.width=`${i}px`,e.addEventListener("selectstart",(e=>{e.preventDefault()}));const a=e=>{let t=Math.max(0,Math.min(e,i));n.style.width=`${t}px`,c.style.left=`${t}px`},l=e=>(e.stopPropagation(),e.preventDefault(),!1);e.addEventListener("mousedown",(()=>{o=!0})),e.addEventListener("mouseup",(()=>{o=!1})),e.addEventListener("mouseleave",(()=>{o=!1})),e.addEventListener("mousemove",(e=>{if(!o)return;let n=e.pageX;n-=t.getBoundingClientRect().left,a(n),l(e)})),e.addEventListener("touchstart",(()=>{o=!0})),e.addEventListener("touchend",(()=>{o=!1})),e.addEventListener("touchcancel",(()=>{o=!1})),e.addEventListener("touchmove",(e=>{if(!o)return;let n,r;for(r=0;r<e.changedTouches.length;r++)n=e.changedTouches[r].pageX;n-=t.getBoundingClientRect().left,a(n),l(e)}))},randomImgGallery=()=>{let e=document.querySelector(".picture-inner-container");const t=document.createElement("img");t.classList.add("picture-inner-container__img"),t.src="img/galery/galery1.jpg",t.alt="gallery1";const n=document.createElement("img");n.classList.add("picture-inner-container__img"),n.src="img/galery/galery2.jpg",n.alt="gallery2";const r=document.createElement("img");r.classList.add("picture-inner-container__img"),r.src="img/galery/galery3.jpg",r.alt="gallery3";const c=document.createElement("img");c.classList.add("picture-inner-container__img"),c.src="img/galery/galery4.jpg",c.alt="gallery4";const o=document.createElement("img");o.classList.add("picture-inner-container__img"),o.src="img/galery/galery5.jpg",o.alt="gallery5";const i=document.createElement("img");i.classList.add("picture-inner-container__img"),i.src="img/galery/galery6.jpg",i.alt="gallery6";const a=document.createElement("img");a.classList.add("picture-inner-container__img"),a.src="img/galery/galery7.jpg",a.alt="gallery7";const l=document.createElement("img");l.classList.add("picture-inner-container__img"),l.src="img/galery/galery8.jpg",l.alt="gallery8";const s=document.createElement("img");s.classList.add("picture-inner-container__img"),s.src="img/galery/galery9.jpg",s.alt="gallery9";const d=document.createElement("img");d.classList.add("picture-inner-container__img"),d.src="img/galery/galery10.jpg",d.alt="gallery10";const u=document.createElement("img");u.classList.add("picture-inner-container__img"),u.src="img/galery/galery11.jpg",u.alt="gallery11";const m=document.createElement("img");m.classList.add("picture-inner-container__img"),m.src="img/galery/galery12.jpg",m.alt="gallery12";const g=document.createElement("img");g.classList.add("picture-inner-container__img"),g.src="img/galery/galery13.jpg",g.alt="gallery13";const p=document.createElement("img");p.classList.add("picture-inner-container__img"),p.src="img/galery/galery14.jpg",p.alt="gallery14";const v=document.createElement("img");v.classList.add("picture-inner-container__img"),v.src="img/galery/galery15.jpg",v.alt="gallery15";let y=[t,n,r,c,o,i,a,l,s,d,u,m,g,p,v];(e=>{for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}})(y),y.map((t=>{e.append(t)}))},bookingTicket=()=>{let e,t,n=document.querySelector(".add-ticket__value.basic"),r=document.querySelector(".add-ticket__value.senior"),c=document.querySelectorAll(".add-ticket__item"),o=document.querySelector(".middle-overview__number.basic"),i=document.querySelector(".middle-overview__number.senior"),a=document.querySelector(".middle-overview__price.basic"),l=document.querySelector(".middle-overview__price.senior"),s=document.querySelector(".middle-overview__money"),d=(document.querySelector(".add-ticket__text.basic.span"),document.querySelector(".add-ticket__text.senior.span"),document.querySelector(".top-overview__item.type-icon")),u=document.querySelector(".form__field.select");u.addEventListener("click",(()=>{let e=u.value.split(""),t=e[0].toUpperCase()+e.slice(1);d.textContent=t.replace(/,/g,"")}));const m=()=>{"permanent exhibition"===u.value&&(console.log(i.textContent),e=20*o.textContent,t=10*i.textContent),"temporary exhibition"===u.value&&(e=25*o.textContent,t=12*i.textContent),"combined admission"===u.value&&(e=40*o.textContent,t=20*i.textContent),a.textContent=e,l.textContent=t,totalSum=e+t,s.textContent=`${totalSum} â‚¬`};c.forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("minus-basic")&&n.textContent>=1&&(n.textContent--,o.textContent=n.textContent,m()),e.target.classList.contains("plus-basic")&&n.textContent<=19&&(n.textContent++,o.textContent=n.textContent,m()),e.target.classList.contains("minus-senior")&&r.textContent>=1&&(r.textContent--,i.textContent=r.textContent,m()),e.target.classList.contains("plus-senior")&&r.textContent<=19&&(r.textContent++,i.textContent=r.textContent,m())}))}))},minus=document.querySelectorAll(".minus"),plus=document.querySelectorAll(".plus");minus.forEach((e=>{e.addEventListener("click",(()=>{}))}));const videoPlayer=()=>{document.querySelector(".player");const e=document.querySelector(".viewer"),t=document.querySelector(".player__big-play"),n=(document.querySelector(".player__big-play img"),document.querySelector(".progress")),r=document.querySelector(".progress__filled"),c=document.querySelector(".toggle-play"),o=document.querySelector(".toggle-play img"),i=document.querySelector(".player__slider"),a=document.querySelector(".toggle-sound"),l=document.querySelector(".toggle-sound img"),s=document.querySelector(".player__fullscreen");function d(){e.paused?e.play():e.pause()}function u(){this.paused?(o.setAttribute("src","img/video/play.svg"),t.style.display="block"):(o.setAttribute("src","img/video/pause.svg"),t.style.display="none")}function m(){e[this.name]=this.value}function g(t){const r=t.offsetX/n.offsetWidth*e.duration;e.currentTime=r}console.log(window.screen.width),console.log(window.screen.height),e.addEventListener("click",d),e.addEventListener("play",u),e.addEventListener("pause",u),e.addEventListener("timeupdate",(function(){const t=e.currentTime/e.duration*100;r.style.flexBasis=`${t}%`})),t.addEventListener("click",d),c.addEventListener("click",d),i.addEventListener("change",m),i.addEventListener("mousemove",m),a.addEventListener("click",(function(){e.volume>0?(e.volume=0,i.value=0,l.setAttribute("src","img/video/mute.svg")):(e.volume=.5,i.value=.5,l.setAttribute("src","img/video/sound.svg"))}));let p=!1;n.addEventListener("click",g),n.addEventListener("mousemove",(e=>p&&g(e))),n.addEventListener("mousedown",(()=>p=!0)),n.addEventListener("mouseup",(()=>p=!1)),s.addEventListener("click",(()=>{console.log(window.screen.width)}))},setPopup=()=>{let e=document.querySelector(".popup"),t=document.querySelector(".popup__close");document.querySelector(".amount-tickets__button").addEventListener("click",(()=>{e.classList.add("active")})),t.addEventListener("click",(()=>{e.classList.remove("active")}))},setMenu=()=>{const e=document.querySelector(".header-menu__icon"),t=document.querySelector(".header-menu__menu");e.addEventListener("click",(function(){document.body.classList.toggle("lock"),e.classList.toggle("active"),t.classList.toggle("active")})),document.documentElement.addEventListener("click",(function(n){n.target.closest(".header-menu")||(document.body.classList.remove("lock"),e.classList.remove("active"),t.classList.remove("active"))}));const n=document.querySelectorAll(".header-menu__link");for(let r of n)r.addEventListener("click",(function(){e.classList.contains("active")&&(document.body.classList.remove("lock"),e.classList.remove("active"),t.classList.remove("active"))}))};